(this["webpackJsonpreact-chat-app"]=this["webpackJsonpreact-chat-app"]||[]).push([[0],{322:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(30),i=a.n(r),l=a(14),s=a(11),o=a(146),u="USER_SIGNUP_REQUEST",E="USER_SIGNUP_SUCCESS",m="USER_SIGNUP_FAILURE",d="USER_LOGIN_REQUEST",S="USER_LOGIN_SUCCESS",f="USER_LOGIN_FAILURE",g="GET_USERS_REQUEST",p="GET_USERS_SUCCESS",A="GET_USERS_FAILURE",b="GET_MESSAGES_REQUEST",h="GET_MESSAGES_SUCCESS",O="GET_MESSAGES_FAILURE",v="SEND_MESSAGE_REQUEST",j="SEND_MESSAGE_SUCCESS",T="SEND_MESSAGE_FAILURE",U="GET_CONFIG_REQUEST",C="GET_CONFIG_SUCCESS",N="GET_CONFIG_FAILURE",R=function(e,t){"undefined"!==typeof Storage&&localStorage.setItem(e,t)},y=function(e){if("undefined"!==typeof Storage)return localStorage.getItem(e)},I=a(8),F={url:"http://95.216.66.186:3000/api"},G=Object(I.a)(Object(I.a)({},F),{JWT_ACCESS_KEY:"nErTorENDectaiND",USER_ID:"nlasdfALSERNSDln",FIRST_NAME:"eadIamEntoSInetH",LAST_NAME:"werHOJalsdfHOASD",EMAIL:"JalENTectaERNvin",IS_ADMIN:"lkasfDDanlNKNGsp"}),L={isLoading:!1,actionFailed:!1,userId:0},w=a(13),J={isLoading:[],callFailed:[],callSuccessful:[],users:[],messages:[],message:"",error:""},z={isLoading:[],callFailed:[],callSuccessful:[],tags:[],error:""},x=a(332),M=Object(s.c)({form:x.a,authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:case d:return{isLoading:!0,actionFailed:!1};case E:return{isLoading:!1,actionFailed:!1};case m:case f:return{isLoading:!1,actionFailed:!0,error:t.payload};case S:return R(G.JWT_ACCESS_KEY,t.payload.data.token),R(G.USER_ID,t.payload.data.id),R(G.FIRST_NAME,t.payload.data.firstName),R(G.LAST_NAME,t.payload.data.lastName),R(G.EMAIL,t.payload.data.email),R(G.IS_ADMIN,t.payload.data.isAdmin),{isLoading:!1,actionFailed:!1};default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(I.a)(Object(I.a)({},e),{},{isCalling:[].concat(Object(w.a)(e.isLoading),["GET_USERS_REQUEST"]),callFailed:e.isLoading.filter((function(e){return"GET_USERS_REQUEST"!==e})),callSuccessful:e.isLoading.filter((function(e){return"GET_USERS_REQUEST"!==e})),error:""});case p:return Object(I.a)(Object(I.a)({},e),{},{isCalling:e.isLoading.filter((function(e){return"GET_USERS_REQUEST"!==e})),callSuccessful:[].concat(Object(w.a)(e.isLoading),["GET_USERS_REQUEST"]),users:t.payload.data});case A:return Object(I.a)(Object(I.a)({},e),{},{isCalling:e.isLoading.filter((function(e){return"GET_USERS_REQUEST"!==e})),callFailed:[].concat(Object(w.a)(e.isLoading),["GET_USERS_REQUEST"]),error:t.payload});case b:return Object(I.a)(Object(I.a)({},e),{},{isCalling:[].concat(Object(w.a)(e.isLoading),["GET_MESSAGES_REQUEST"]),callFailed:e.isLoading.filter((function(e){return"GET_MESSAGES_REQUEST"!==e})),callSuccessful:e.isLoading.filter((function(e){return"GET_MESSAGES_REQUEST"!==e})),error:""});case h:return Object(I.a)(Object(I.a)({},e),{},{isCalling:e.isLoading.filter((function(e){return"GET_MESSAGES_REQUEST"!==e})),callSuccessful:[].concat(Object(w.a)(e.isLoading),["GET_MESSAGES_REQUEST"]),messages:t.payload.data});case O:return Object(I.a)(Object(I.a)({},e),{},{isCalling:e.isLoading.filter((function(e){return"GET_MESSAGES_REQUEST"!==e})),callFailed:[].concat(Object(w.a)(e.isLoading),["GET_MESSAGES_REQUEST"]),error:t.payload});case v:return Object(I.a)(Object(I.a)({},e),{},{isCalling:[].concat(Object(w.a)(e.isLoading),["SEND_MESSAGE_REQUEST"]),callFailed:e.isLoading.filter((function(e){return"SEND_MESSAGE_REQUEST"!==e})),callSuccessful:e.isLoading.filter((function(e){return"SEND_MESSAGE_REQUEST"!==e})),error:""});case j:return Object(I.a)(Object(I.a)({},e),{},{isCalling:e.isLoading.filter((function(e){return"SEND_MESSAGE_REQUEST"!==e})),callSuccessful:[].concat(Object(w.a)(e.isLoading),["SEND_MESSAGE_REQUEST"]),message:t.payload.data});case T:return Object(I.a)(Object(I.a)({},e),{},{isCalling:e.isLoading.filter((function(e){return"SEND_MESSAGE_REQUEST"!==e})),callFailed:[].concat(Object(w.a)(e.isLoading),["SEND_MESSAGE_REQUEST"]),error:t.payload});default:return e}},configReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(I.a)(Object(I.a)({},e),{},{isCalling:[].concat(Object(w.a)(e.isLoading),["GET_CONFIG_REQUEST"]),callFailed:e.isLoading.filter((function(e){return"GET_CONFIG_REQUEST"!==e})),callSuccessful:e.isLoading.filter((function(e){return"GET_CONFIG_REQUEST"!==e})),error:""});case C:return Object(I.a)(Object(I.a)({},e),{},{isCalling:e.isLoading.filter((function(e){return"GET_CONFIG_REQUEST"!==e})),callSuccessful:[].concat(Object(w.a)(e.isLoading),["GET_CONFIG_REQUEST"]),tags:t.payload.data});case N:return Object(I.a)(Object(I.a)({},e),{},{isCalling:e.isLoading.filter((function(e){return"GET_CONFIG_REQUEST"!==e})),callFailed:[].concat(Object(w.a)(e.isLoading),["GET_CONFIG_REQUEST"]),error:t.payload});default:return e}}}),k=function(e,t){return"USER_LOGOUT"===t.type&&(e=void 0),M(e,t)},P=Object(s.d)(k,Object(s.a)(o.a)),Q=a(151),D=a(36),B=a(10),W=a(22),X=function(e){var t=e.size,a="1px";return"number"===typeof t&&t>0&&(a="".concat(t,"px")),c.a.createElement("p",{style:{height:a}})},H=function(e){var t=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return e.bind.apply(e,[null].concat(a))}(e.handleToggle,e.id);return c.a.createElement("li",{onClick:t,className:"contactsList".concat(e.id===e.checkedId?" selected":""," contact-item")},e.firstName)},V=function(e){return c.a.createElement("div",{className:"contact-list"},c.a.createElement("ul",null,e.contacts.map((function(t){return c.a.createElement(H,Object.assign({handleToggle:e.handleToggle,checkedId:e.checkedId,key:t.id},t))}))))},Y=a(327),K=a(328),Z=a(149),q=a(333),_=a(31),$=a.n(_);var ee=a(326),te=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"loader-wrapper"},c.a.createElement(ee.a,{animation:"border",role:"status",variant:"dark"},c.a.createElement("span",{className:"sr-only"},"Loading..."))))},ae=a(5),ne=a.n(ae),ce=a(148),re=a.n(ce),ie="http://".concat(window.location.hostname,":3000"),le=re()(ie);var se={fetchUsers:function(){return function(e){e({type:g}),$.a.get("".concat(G.url,"/auth/contacts"),{headers:{Authorization:y(G.JWT_ACCESS_KEY)}}).then((function(t){return e((a=t.data,{type:p,payload:a}));var a})).catch((function(t){return e({type:A,payload:t})}))}},fetchMessages:function(){return function(e){e({type:b}),$.a.get("".concat(G.url,"/message"),{headers:{Authorization:y(G.JWT_ACCESS_KEY)}}).then((function(t){return e((a=t.data,{type:h,payload:a}));var a})).catch((function(t){return e({type:O,payload:t})}))}},fetchTags:function(){return function(e){e({type:g}),$.a.get("".concat(G.url,"/tags"),{headers:{Authorization:y(G.JWT_ACCESS_KEY)}}).then((function(t){return e((a=t.data,{type:C,payload:a}));var a})).catch((function(t){return e({type:N,payload:t})}))}}},oe=Object(l.b)((function(e){return{isLoading:e.userReducer.isLoading.includes("GET_USERS_REQUEST")||e.userReducer.isLoading.includes("GET_MESSAGES_REQUEST")||e.userReducer.isLoading.includes("SEND_MESSAGE_REQUEST")||e.configReducer.isLoading.includes("GET_CONFIG_REQUEST"),usrs:e.userReducer.users,allMessages:e.userReducer.messages,allTags:e.configReducer.tags}}),se)((function(e){var t=y(G.USER_ID),a=y(G.IS_ADMIN),r=Object(n.useState)([]),i=Object(W.a)(r,2),l=i[0],s=i[1],o=Object(n.useState)(0),u=Object(W.a)(o,2),E=u[0],m=u[1],d=Object(n.useState)([]),S=Object(W.a)(d,2),f=S[0],g=S[1],p=Object(n.useState)(""),A=Object(W.a)(p,2),b=A[0],h=A[1],O=Object(n.useState)(""),v=Object(W.a)(O,2),j=v[0],T=v[1],U=Object(n.useState)(""),C=Object(W.a)(U,2),N=C[0],R=C[1],F=Object(n.useState)(""),L=Object(W.a)(F,2),J=L[0],z=L[1],x=Object(n.useState)([]),M=Object(W.a)(x,2),k=M[0],P=M[1],Q=Object(n.useState)([]),D=Object(W.a)(Q,2),B=D[0],H=D[1],_=Object(n.useState)(""),$=Object(W.a)(_,2),ee=$[0],ae=$[1],ce=e.isLoading,re=e.usrs,ie=e.allMessages,se=e.allTags,oe=Object(n.useRef)(),ue=Object(n.useRef)();Object(n.useEffect)((function(){e.fetchUsers(),e.fetchMessages(),e.fetchTags(),le.emit("join",{id:t}),le.on("new_msg",(function(e){s((function(t){return[].concat(Object(w.a)(t),[e.msg])})),e.msg.senderId!=t&&le.emit("messageReceived",e.msg)})),le.on("message_received_ack",(function(e){T(e.msg)})),le.on("message_read_ack",(function(e){R(e.msg)})),le.on("typing_display",(function(e){z(e)}))}),[]),Object(n.useEffect)((function(){P(re)}),[re]),Object(n.useEffect)((function(){P((function(e){return e.map((function(e){return e.id===J.senderId?Object(I.a)(Object(I.a)({},e),{},{typing:"typing..."}):e}))}));var e=setTimeout((function(){P(re)}),1e3);return function(){clearTimeout(e)}}),[J,re]),Object(n.useEffect)((function(){s((function(e){return e.map((function(e){return e.id===j.id?j:e}))}))}),[j]),Object(n.useEffect)((function(){s((function(e){return e.map((function(e){return e.id===N.id?N:e}))}))}),[N]),Object(n.useEffect)((function(){s(ie)}),[ie]),Object(n.useEffect)((function(){H(se)}),[se]),Object(n.useEffect)((function(){g(l.filter((function(e){return e.receiverId===E||e.senderId===E})))}),[E,l]),Object(n.useEffect)((function(){for(var e=f.length-1;e>=0&&!f[e].readOn;e--)f[e].senderId!=t&&le.emit("messageRead",f[e])}),[f]);var Ee=Object(n.useCallback)((function(e){0!=e&&m(e)}),[E]),me=function(e){if(e.preventDefault(),E&&b){var a={senderId:t,receiverId:E,msg:b};le.emit("sendMessage",a,(function(){return h("")})),h("")}};Object(n.useEffect)((function(){var e=setTimeout((function(){b===oe.current.value&&b.length>1&&le.emit("typing",{senderId:t,receiverId:E})}),500);return function(){clearTimeout(e)}}),[E,b,oe]);var de=Object(n.useCallback)((function(){"undefined"!==typeof Storage&&localStorage.clear(),e.history.push("/login")}),[]);return Object(n.useEffect)((function(){ue.current.scrollIntoView({behavior:"smooth"})}),[f]),c.a.createElement(c.a.Fragment,null,ce&&c.a.createElement(te,null),c.a.createElement("div",null,c.a.createElement(Y.a,{fluid:!0},c.a.createElement(K.a,{className:"row-content"},c.a.createElement(Z.a,{xs:"12",sm:"2",style:{paddingLeft:"0",paddingRight:"0"}},c.a.createElement("div",null,c.a.createElement(V,{checkedId:E,handleToggle:Ee,contacts:k})),c.a.createElement(X,{size:22}),c.a.createElement(q.a,{className:"logout",onClick:function(){return de()}},"Logout")),c.a.createElement(Z.a,{xs:"12",sm:"10",style:{paddingLeft:"0",paddingRight:"0"}},c.a.createElement("div",{className:"chat"},c.a.createElement("div",{className:"messages"},f.map((function(e,a){var n=e.senderId===t?"mine":"yours",r=ne()("message",n),i="";return e.senderId===t&&(i=e.readOn?"data:image/png;base64,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":e.receivedOn?"data:image/png;base64,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":e.sentOn?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAhCAYAAABN2CLhAAAAAXNSR0IArs4c6QAABGxJREFUWAnNmP1PU1cYx+85t61lgJHoJNkqDoNvWWJsNEKWkZUVSi9FpJmdJjD1J/4O/hQHTLd1JMO+wUZJM2cWElhillUpG3a4mG2ZcXFsfbm99/o9dz312hYnTV84yc05z3Ofc57Pfe55ee4lwi4smqaR9yXJSwThFMNDvRCdn/+Oo1Le2E21c2homAMzLrT3Gvl2HTSA3YKmnSlAErK6OD+/UJDR2FXQA263U1PVHgPg3Wg4HDTIetNUrGiU7Bwc7FUEoZf7p5TG3z13bo4QonEdrzFdGl/6JalH1TQ3JwFwoq25+TO/34/nKC0Nnx59Hs8ZIzCi+OCIzQbe8sDsERoaaafbfQrv3ss5KCGbbS0tMwDOlsb3uaZh0P0ez0ksOh/2ZP1tA/hRLpWaisVi6ed45VsNmR4Dw8NHAXyRAyNyfzSZTDOvAsweo+7QrvPnO5Vc7hKART2OhDxWWlunAoHAv+XjWqr9r2OpviYa14ULhxRZHsPgZt0BIX/tEYTri3Nzf+/EYd0iPTAy8oaSyYwjwhYGSCh92kTpx5FI5OlOgJltXaBdXu9BRPgj7BQIrO70H0UUp0Kh0BMm77TUHNrp9e7PpdNXkE806XCEpDSLZSoWCPy5U1huX1Po0dHRfUIqdRXALcwhpkRGEMWZ6K1bv3OASuqaLURJkvamVPUa5vA+HYwQmWJbiwaDv1YCauxTk4TJ5XI1ZwThiqCqbXlnOeQTNxcDgU2j80rb1CFJNrbZVzpAcT+fz9eUE0U2hw+we8jSVEyLzxdDoY1i20plSjVtXFWUy9j0T1Q6CO+HKbHnydbWOIDb8zqWVn6BnDjBbapRs4VoZacTTqkP+wYH3650UETYIgvCGDK2N/NjaGaT6ctoJBKvdMzt+lEkKo/ZTYCjSS6yzGs74+30DofDhAhfBnAHtxEpDS0Eg3e5XM2avmY2X8fE43sm+0zwIim3v6oTRFikVqsPwEd4HyRAC1+HwytcrnYtrq2tZQ/b7XGazXZh8GZcDPxE17FjWxvr649e5nBycpLe39j4ADYnC3aULi1FIncKcg0a+uES8/u39IhT+hv3oajqcN/QUDeXi2tMJ3J7eXkE+sI6wKL+dikc/qbYttpy4XBJJBLy2dOnf8zIcicirf9nIJp2tPP48eyD9fWHxY7vrKx4kBMbP/WX8UPlq2K7WsglXy5YVFbRah0D+CHukIhiNBoK3eYy/v64sHLf4TJsv8eUCJT7cuY21az16WEckH09WAiZESj9hes1RXH2u90OJjs9nj4jME66H97r6QnWC5gxlESaKVlh+25+GyvsClAncb2FSy8Avdfb3e3HglS5rh71ttDM+cTEhPnnzc1LeP1sZ3mhoONPSjr9Kd5M7oUbdRAKC7Gcr9XVVfWwzRYnJhM7lvVcIm+X7OrouDk7O1t3YOb/pdDMIJlMqmft9ntpWT4I8XVE+OH+1tZPpqencWo3pvwvNMOKx+MawO+nFUVQ2tvD4Rs3kHk2rjwDA0aUEOvFPwQAAAAASUVORK5CYII=":""),c.a.createElement("div",{key:a,className:"message-container"},c.a.createElement("div",{className:r},c.a.createElement("span",null,e.msg),"\xa0",i?c.a.createElement("img",{height:"10",src:i}):null))})),c.a.createElement("div",{ref:ue})),c.a.createElement("div",{className:"message-input-container"},c.a.createElement("div",{className:"message-div"},"true"===a?c.a.createElement("div",{style:{marginLeft:"10px"},className:"send"},c.a.createElement("select",{value:ee,onChange:function(e){e.preventDefault(),ae(e.target.value)}},B.map((function(e){return c.a.createElement("option",{key:e.id,value:e.name},e.name)}))),c.a.createElement("button",{style:{marginLeft:"5px"},className:"plus-btn",onClick:function(e){return e.preventDefault(),void h("".concat(oe.current.value.substring(0,oe.current.selectionStart),"<").concat(ee,">").concat(oe.current.value.substring(oe.current.selectionStart,oe.current.selectionEnd),"</").concat(ee,">").concat(oe.current.value.substring(oe.current.selectionEnd)))}},"+")):null,c.a.createElement("div",{className:"message-input"},c.a.createElement("input",{ref:oe,type:"text",placeholder:"Type a message",value:b,onChange:function(e){var t=e.target.value;return h(t)},onKeyPress:function(e){return"Enter"===e.key?me(e):null}})),c.a.createElement("div",{className:"send"},c.a.createElement(q.a,{style:{float:"right"},onClick:function(e){return me(e)}},"Send"))))))))))})),ue=a(68),Ee=a(69),me=a(41),de=a(74),Se=a(72),fe=a(330),ge=a(331),pe=a(329),Ae=function(e){return e?void 0:"Required"},be=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},he=(a(152),function(e){var t=e.input,a=e.type,n=e.placeholder,r=e.label,i=e.icon,l=e.meta,s=l.touched,o=l.error;return c.a.createElement("div",{className:i&&"icon-input"},i&&i,c.a.createElement(fe.a.Control,Object.assign({className:s&&o&&"input-error"},t,{type:a,placeholder:n})),s&&o&&c.a.createElement("span",{className:"error"},o),c.a.createElement("label",null,c.a.createElement("h6",{className:"bold text-uppercase"},r)))});var Oe=function(){return!!y(G.JWT_ACCESS_KEY)},ve=a(73),je=function(e){Object(de.a)(a,e);var t=Object(Se.a)(a);function a(e){var n;return Object(ue.a)(this,a),(n=t.call(this,e)).submitFn=n.submitFn.bind(Object(me.a)(n)),n}return Object(Ee.a)(a,[{key:"submitFn",value:function(e){this.props.login(e)}},{key:"render",value:function(){var e=this.props.handleSubmit,t=this.props,a=t.isLoggingIn,n=t.isAuthenticated,r=t.loginFailed;return n?c.a.createElement(B.a,{to:"/"}):(r&&ve.a.error("Failed to authenticate the user!"),c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(te,null),c.a.createElement("header",{className:"border-bottom"},c.a.createElement(X,{size:26}),c.a.createElement("h1",{className:"text-center"},"Login"),c.a.createElement(X,{size:26})),c.a.createElement(Y.a,null,c.a.createElement(X,{size:26}),c.a.createElement(fe.a,{className:"auth-form",onSubmit:e(this.submitFn)},c.a.createElement(K.a,null,c.a.createElement(Z.a,{xs:"12"},c.a.createElement(X,{size:26})),c.a.createElement(Z.a,{xs:"12",sm:"6"},c.a.createElement(ge.a,{className:"form-control",component:he,validate:[Ae,be],name:"email",type:"email",placeholder:"Enter email",label:"Email"}),c.a.createElement(X,{size:26})),c.a.createElement(Z.a,{xs:"12",sm:"6"},c.a.createElement(ge.a,{className:"form-control",component:he,validate:[Ae],name:"password",type:"password",placeholder:"Enter password",label:"Password"}),c.a.createElement(X,{size:26})),c.a.createElement(Z.a,{xs:"12"},c.a.createElement(ge.a,{className:"form-control",component:he,name:"expert",type:"checkbox",label:"Are you an expert ?"}),c.a.createElement(X,{size:26})),c.a.createElement(Z.a,{xs:"12"},c.a.createElement(D.b,{to:"/signup"},"Do not have an account? Register now."))),c.a.createElement(X,{size:26}),c.a.createElement(K.a,{className:"justify-content-center"},c.a.createElement(Z.a,{className:"text-center",xs:"12",sm:"6"},c.a.createElement(q.a,{type:"submit",variant:"primary"},"Login"),c.a.createElement(X,{size:26})))),c.a.createElement(X,{size:26}))))}}]),a}(c.a.Component),Te={login:function(e){return function(t){t({type:d}),$.a.post("".concat(G.url,"/auth/login"),e).then((function(e){return t((a=e.data,{type:S,payload:a}));var a})).catch((function(e){return t({type:f,payload:e})}))}}},Ue=Object(pe.a)({form:"login",enableReinitialize:!0})(je),Ce=Object(l.b)((function(e){var t=e.authReducer.actionFailed;return{isLoggingIn:e.authReducer.isLoading,isAuthenticated:Oe(),loginFailed:t}}),Te)(Ue),Ne=function(e){Object(de.a)(a,e);var t=Object(Se.a)(a);function a(e){var n;return Object(ue.a)(this,a),(n=t.call(this,e)).state={email:""},n.submitFn=n.submitFn.bind(Object(me.a)(n)),n}return Object(Ee.a)(a,[{key:"submitFn",value:function(e){this.setState({email:e.EMAIL}),this.props.register(e)}},{key:"render",value:function(){var e=this.props.handleSubmit,t=this.props,a=t.isRegistering;return t.isAuthenticated?c.a.createElement(B.a,{to:"/"}):c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(te,null),c.a.createElement("header",{className:"border-bottom"},c.a.createElement(X,{size:26}),c.a.createElement("h1",{className:"text-center"},"Register"),c.a.createElement(X,{size:26})),c.a.createElement(Y.a,null,c.a.createElement(X,{size:26}),c.a.createElement(fe.a,{className:"auth-form",onSubmit:e(this.submitFn)},c.a.createElement(K.a,null,c.a.createElement(Z.a,{xs:"12"},c.a.createElement(X,{size:26})),c.a.createElement(Z.a,{xs:"12",sm:"6"},c.a.createElement(ge.a,{className:"form-control",component:he,validate:[Ae],name:"firstName",type:"text",placeholder:"Enter first name",label:"*First name"}),c.a.createElement(X,{size:26})),c.a.createElement(Z.a,{xs:"12",sm:"6"},c.a.createElement(ge.a,{className:"form-control",component:he,validate:[Ae],name:"lastName",type:"text",placeholder:"Enter last name",label:"*Last name"}),c.a.createElement(X,{size:26})),c.a.createElement(Z.a,{xs:"12"},c.a.createElement(ge.a,{className:"form-control",component:he,validate:[Ae,be],name:"email",type:"email",placeholder:"Enter email",label:"*Email"}),c.a.createElement(X,{size:26})),c.a.createElement(Z.a,{xs:"12"},c.a.createElement(ge.a,{className:"form-control",component:he,validate:[Ae],name:"password",type:"password",placeholder:"Enter password",label:"*Password"}),c.a.createElement(X,{size:26})),c.a.createElement(Z.a,{className:"text-center",xs:"12"},c.a.createElement(D.b,{to:"/login"},"Already have an account? Login now."))),c.a.createElement(X,{size:26}),c.a.createElement(K.a,{className:"justify-content-center"},c.a.createElement(Z.a,{className:"text-center",xs:"12",sm:"6"},c.a.createElement(q.a,{type:"submit",variant:"primary"},"Register")))),c.a.createElement(X,{size:50})))}}]),a}(c.a.Component),Re={register:function(e){return function(t){t({type:u}),$.a.post("".concat(G.url,"/auth/register"),e).then((function(e){return t((a=e.data,{type:E,payload:a}));var a})).catch((function(e){return t({type:m,payload:e})}))}}},ye=Object(pe.a)({form:"register",enableReinitialize:!0})(Ne),Ie=Object(l.b)((function(e){return{isRegistering:e.authReducer.isLoading,isAuthenticated:Oe()}}),Re)(ye),Fe=a(153),Ge=["component","auth"],Le=Object(l.b)((function(){return{auth:Oe()}}))((function(e){var t=e.component,a=e.auth,n=Object(Fe.a)(e,Ge);return c.a.createElement(B.b,Object.assign({},n,{render:function(e){return a?c.a.createElement(t,e):e.history.push("/login")}}))}));a(320);ve.a.configure({autoClose:3e3,draggable:!1,position:"bottom-left"});var we=Object(Q.a)();var Je=function(){return c.a.createElement(D.a,{history:we},c.a.createElement(B.d,null,c.a.createElement(B.b,{path:"/login",exact:!0,component:Ce}),c.a.createElement(B.b,{path:"/signup",exact:!0,component:Ie}),c.a.createElement(Le,{path:"/",exact:!0,component:oe}),c.a.createElement(B.b,{path:"*",exact:!0,component:Ce})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(321),a(322),a(323),a(324);i.a.render(c.a.createElement(l.a,{store:P},c.a.createElement(Je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[325,1,2]]]);
//# sourceMappingURL=main.447e2c46.chunk.js.map